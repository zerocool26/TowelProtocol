# ============================================================================
# Sample Policy: PowerShell with snapshot + revert
# ============================================================================
# Demonstrates PowerShell mechanism details with optional snapshot/revert scripts
# ============================================================================

policyId: "sample-powershell-snapshot-revert"
version: "1.0.0"
name: "Sample PowerShell Policy (Snapshot + Revert)"
category: Sample

description: |
  Demonstrates a PowerShell mechanism with optional snapshot and revert scripts.
  This is a NON-DESTRUCTIVE sample policy meant for development/testing.

mechanism: PowerShell

mechanismDetails:
  ScriptPath: "samples/main_example.ps1"        # main script to apply
  SnapshotScriptPath: "samples/snapshot_example.ps1"
  RevertScriptPath: "samples/revert_example.ps1"
  RequiresSignature: false

supportStatus: Unsupported
riskLevel: Low
reversible: true

revertMechanism: |
  Run the revert script to restore the previous state.

applicability:
  minBuild: 10240
  maxBuild: null
  supportedSkus:
    - "Enterprise"
    - "Pro"
    - "Home"
    - "Education"
  excludedSkus: []
  deviceRequirement: null
  deprecatedAsOfBuild: null

dependencies: []
knownBreakage: []
references: []
tags:
  - sample
  - powershell
  - snapshot
  - revert
notes: |
  Replace ScriptPath with your real apply script.
  In production, sign scripts and set RequiresSignature to true.

enabledByDefault: false
includedInProfiles: []
autoApply: false
requiresConfirmation: true
showInUI: true
